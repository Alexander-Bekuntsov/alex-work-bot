
# Alex Telegram Form Bot

Telegram-бот для проведения опросов и генерации отчетов по результатам взаимодействия с пользователями.

---

## Состав проекта

Репозиторий содержит:

- `Dockerfile` - multi-stage сборка Java-приложения
- `docker-compose.yml` - конфигурация запуска бота и PostgreSQL
- Исходный код Java-приложения
- Файлы локализации
- Прочие необходимые файлы

---

## Быстрый старт

### 1. Распаковка проекта

Скачайте и распакуйте архив в удобное место на диске.

### 2. Настройка переменных окружения

Создайте файл `.env` рядом с `docker-compose.yml`:

```env
BOT_TOKEN=your_bot_token
BOT_USERNAME=your_bot_username  # без @
DB_NAME=telegram_bot_db
DB_USER=admin
DB_PASSWORD=your_db_password
DB_URL=jdbc:postgresql://db:5432/telegram_bot_db
```

> Обратите внимание: `DB_URL` должен содержать значение `DB_NAME`.

### 3. Сборка и запуск

В терминале, находясь в корне проекта:

```bash
docker-compose up --build
```

Будут подняты два сервиса:
- `bot` - Telegram-бот
- `db` - PostgreSQL (с подключенным volume для хранения данных)

После первого запуска рекомендуется остановить приложение (`Ctrl+C`), затем перезапустить:

```bash
docker-compose up
```

### 4. Проверка работоспособности

1. Найдите бота в Telegram
2. Введите команду `/start`
3. Используйте остальные команды по необходимости

---

## Команды бота

| Команда   | Описание                                    |
|-----------|---------------------------------------------|
| `/start`  | Запуск бота и вывод приветствия             |
| `/form`   | Начать заполнение формы                     |
| `/report` | Получить отчет по ранее заполненным формам  |

---

## Дополнительно

- Dockerfile использует **multi-stage** подход для минимизации финального образа.
- PostgreSQL использует volume для персистентного хранения данных.
- Настройки можно менять через `.env`.
